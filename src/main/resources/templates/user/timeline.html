<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="card" th:fragment="timeline">
    <div class="card-header card-header-icon" data-background-color="green">
        <i class="material-icons">language</i>
    </div>
    <div class="card-content">
        <h4 class="card-title">Timeline</h4>
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive" th:if="${posts.getTotalElements() > 10}">
                    <div th:replace="fragments/helper::pagination(${__posts__}, '/user/__${user.id}__', '')"></div>
                </div>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <tbody>
                        <tr th:each="post, status : ${posts}" th:object="${post}">
                            <td style="width:50px;">
                                <div>
                                    <img class="img-circle" th:src="@{/img/default-avatar.png}">
                                </div>
                            </td>
                            <td style="white-space:normal;font-size: small;">
                                <p style="margin: 0;font-weight: bold;">
                                    <a th:href="|/user/${post.user_id}|" th:text="${post.user.userName}"></a>
                                </p>
                                <p style="margin: 0;" th:text="${post.content}"></p>
                            </td>
                            <td style="white-space:normal;" class="td-actions text-right">
                                <a th:href="|/delete/${post.id}|" rel="tooltip" class="btn btn-danger" th:if="${post.user_id == session.user.id}">
                                    <i class="material-icons">close</i>
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
